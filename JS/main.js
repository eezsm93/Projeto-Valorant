var myJson = `{
    "data": {
      "agents": [
        {
          "name": "Jett",
          "function": "Duelista",
          "description": "Devonshire rex. Devonshire rex birman but sphynx savannah panther lynx british shorthair. Tiger. Burmese british shorthair savannah but ocicat siamese for norwegian forest. American shorthair cornish rex american bobtail puma sphynx. Tabby munchkin savannah turkish angora, siamese yet tabby. Siberian grimalkin, birman so lynx but abyssinian tomcat. Ocicat scottish fold but devonshire rex.",
          "skills": [
            {
              "type": 1,
              "damage": 5
            },
            {
              "type": 2,
              "damage": 8
            },
            {
              "type": 3,
              "damage": 10
            },
            {
              "type": 4,
              "damage": 30
            }
          ],
          "image": "./agents/jett.png"
        },
        {
          "name": "Raze",
          "function": "Sentinela",
          "description": "Devonshire rex. Devonshire rex birman but sphynx savannah panther lynx british shorthair. Tiger. Burmese british shorthair savannah but ocicat siamese for norwegian forest. American shorthair cornish rex american bobtail puma sphynx. Tabby munchkin savannah turkish angora, siamese yet tabby. Siberian grimalkin, birman so lynx but abyssinian tomcat. Ocicat scottish fold but devonshire rex.",
          "skills": [
            {
              "type": 1,
              "damage": 6
            },
            {
              "type": 2,
              "damage": 3
            },
            {
              "type": 3,
              "damage": 13
            },
            {
              "type": 4,
              "damage": 25
            }
          ],
          "image": "./agents/raze.png"
        },
        {
          "name": "Breach",
          "function": "Duelista",
          "description": "Devonshire rex. Devonshire rex birman but sphynx savannah panther lynx british shorthair. Tiger. Burmese british shorthair savannah but ocicat siamese for norwegian forest. American shorthair cornish rex american bobtail puma sphynx. Tabby munchkin savannah turkish angora, siamese yet tabby. Siberian grimalkin, birman so lynx but abyssinian tomcat. Ocicat scottish fold but devonshire rex.",
          "skills": [
            {
              "type": 1,
              "damage": 5
            },
            {
              "type": 2,
              "damage": 8
            },
            {
              "type": 3,
              "damage": 15
            },
            {
              "type": 4,
              "damage": 10
            }
          ],
          "image": "./agents/breach.png"
        },
        {
          "name": "Omen",
          "function": "Controlador",
          "description": "Devonshire rex. Devonshire rex birman but sphynx savannah panther lynx british shorthair. Tiger. Burmese british shorthair savannah but ocicat siamese for norwegian forest. American shorthair cornish rex american bobtail puma sphynx. Tabby munchkin savannah turkish angora, siamese yet tabby. Siberian grimalkin, birman so lynx but abyssinian tomcat. Ocicat scottish fold but devonshire rex.",
          "skills": [
            {
              "type": 1,
              "damage": 9
            },
            {
              "type": 2,
              "damage": 5
            },
            {
              "type": 3,
              "damage": 10
            },
            {
              "type": 4,
              "damage": 20
            }
          ],
          "image": "./agents/omen.png"
        },
        {
          "name": "Brimstone",
          "function": "Iniciador",
          "description": "Devonshire rex. Devonshire rex birman but sphynx savannah panther lynx british shorthair. Tiger. Burmese british shorthair savannah but ocicat siamese for norwegian forest. American shorthair cornish rex american bobtail puma sphynx. Tabby munchkin savannah turkish angora, siamese yet tabby. Siberian grimalkin, birman so lynx but abyssinian tomcat. Ocicat scottish fold but devonshire rex.",
          "skills": [
            {
              "type": 1,
              "damage": 5
            },
            {
              "type": 2,
              "damage": 5
            },
            {
              "type": 3,
              "damage": 10
            },
            {
              "type": 4,
              "damage": 20
            }
          ],
          "image": "./agents/brimstone.png"
        },
        {
          "name": "Phoenix",
          "function": "Duelista",
          "description": "Devonshire rex. Devonshire rex birman but sphynx savannah panther lynx british shorthair. Tiger. Burmese british shorthair savannah but ocicat siamese for norwegian forest. American shorthair cornish rex american bobtail puma sphynx. Tabby munchkin savannah turkish angora, siamese yet tabby. Siberian grimalkin, birman so lynx but abyssinian tomcat. Ocicat scottish fold but devonshire rex.",
          "skills": [
            {
              "type": 1,
              "damage": 15
            },
            {
              "type": 2,
              "damage": 8
            },
            {
              "type": 3,
              "damage": 10
            },
            {
              "type": 4,
              "damage": 30
            }
          ],
          "image": "./agents/phoenix.png"
        },
        {
          "name": "Sage",
          "function": "Iniciador",
          "description": "Devonshire rex. Devonshire rex birman but sphynx savannah panther lynx british shorthair. Tiger. Burmese british shorthair savannah but ocicat siamese for norwegian forest. American shorthair cornish rex american bobtail puma sphynx. Tabby munchkin savannah turkish angora, siamese yet tabby. Siberian grimalkin, birman so lynx but abyssinian tomcat. Ocicat scottish fold but devonshire rex.",
          "skills": [
            {
              "type": 1,
              "damage": 25
            },
            {
              "type": 2,
              "damage": 4
            },
            {
              "type": 3,
              "damage": 15
            },
            {
              "type": 4,
              "damage": 25
            }
          ],
          "image": "./agents/sage.png"
        },
        {
          "name": "Sova",
          "function": "Duelista",
          "description": "Devonshire rex. Devonshire rex birman but sphynx savannah panther lynx british shorthair. Tiger. Burmese british shorthair savannah but ocicat siamese for norwegian forest. American shorthair cornish rex american bobtail puma sphynx. Tabby munchkin savannah turkish angora, siamese yet tabby. Siberian grimalkin, birman so lynx but abyssinian tomcat. Ocicat scottish fold but devonshire rex.",
          "skills": [
            {
              "type": 1,
              "damage": 5
            },
            {
              "type": 2,
              "damage": 10
            },
            {
              "type": 3,
              "damage": 10
            },
            {
              "type": 4,
              "damage": 40
            }
          ],
          "image": "./agents/sova.png"
        },
        {
          "name": "Viper",
          "function": "Duelista",
          "description": "Devonshire rex. Devonshire rex birman but sphynx savannah panther lynx british shorthair. Tiger. Burmese british shorthair savannah but ocicat siamese for norwegian forest. American shorthair cornish rex american bobtail puma sphynx. Tabby munchkin savannah turkish angora, siamese yet tabby. Siberian grimalkin, birman so lynx but abyssinian tomcat. Ocicat scottish fold but devonshire rex.",
          "skills": [
            {
              "type": 1,
              "damage": 12
            },
            {
              "type": 2,
              "damage": 18
            },
            {
              "type": 3,
              "damage": 20
            },
            {
              "type": 4,
              "damage": 15
            }
          ],
          "image": "./agents/viper.png"
        },
        {
          "name": "Cypher",
          "function": "Controlador",
          "description": "Devonshire rex. Devonshire rex birman but sphynx savannah panther lynx british shorthair. Tiger. Burmese british shorthair savannah but ocicat siamese for norwegian forest. American shorthair cornish rex american bobtail puma sphynx. Tabby munchkin savannah turkish angora, siamese yet tabby. Siberian grimalkin, birman so lynx but abyssinian tomcat. Ocicat scottish fold but devonshire rex.",
          "skills": [
            {
              "type": 1,
              "damage": 10
            },
            {
              "type": 2,
              "damage": 15
            },
            {
              "type": 3,
              "damage": 10
            },
            {
              "type": 4,
              "damage": 20
            }
          ],
          "image": "./agents/cypher.png"
        },
        {
          "name": "Reyna",
          "function": "Iniciador",
          "description": "Devonshire rex. Devonshire rex birman but sphynx savannah panther lynx british shorthair. Tiger. Burmese british shorthair savannah but ocicat siamese for norwegian forest. American shorthair cornish rex american bobtail puma sphynx. Tabby munchkin savannah turkish angora, siamese yet tabby. Siberian grimalkin, birman so lynx but abyssinian tomcat. Ocicat scottish fold but devonshire rex.",
          "skills": [
            {
              "type": 1,
              "damage": 14
            },
            {
              "type": 2,
              "damage": 18
            },
            {
              "type": 3,
              "damage": 27
            },
            {
              "type": 4,
              "damage": 45
            }
          ],
          "image": "./agents/reyna.png"
        }
        
      ],
      
      "guns": {
        "primaryGun": [
          "./guns/gun6.png",
          "./guns/gun7.png",
          "./guns/gun8.png",
          "./guns/gun11.png",
          "./guns/gun12.png"
        ],
        "secondaryGun": [
          "./guns/gun14.png",
          "./guns/gun15.png",
          "./guns/gun13.png",
          "./guns/gun9.png",
          "./guns/gun10.png"
        ],
        "steel": [
          "./guns/gun1.png",
          "./guns/gun2.png",
          "./guns/gun3.png",
          "./guns/gun4.png",
          "./guns/gun5.png"
        ]
      },
      "maps": [
        "./maps/map1.png",
        "./maps/map2.png",
        "./maps/map3.png",
        "./maps/map4.png",
        "./maps/map5.png"
      ]
    }
  }`;

//FIM DO JSON

var myData = JSON.parse(myJson);
var cardContainerElement = document.getElementById("cardContainer");
var agents = myData.data.agents;
var maps = myData.data.maps;
var guns = myData.data.guns;
var gunsContainerElement = document.getElementById("gunsContainer");
var mapContainerElement = document.getElementById("mapsContainer");



cardContainerElement.innerHTML += ""

agents.forEach(function (item, index /*, arr */) {
  //map é um loop que executa uma função pra cada item do array
  cardContainerElement.innerHTML += `
    <div class="agentCard" agent="${index}">
      <div>
      <img class="agentImage" src="${item.image}"/>
      <h4 class="agentTittle">${item.name}</h4>
      <div>
    </div>`;
});




cardContainerElement.innerHTML +=
  `<a href="./agentes.html"><div class="seeAllAgentCards">
  <img class="agentImage" src="images/Caminho 243.png"/>
  <h4><b>Ver Todos</b></h4>
  </div></a>`;


maps.forEach(function (path) {
  mapContainerElement.innerHTML += `
  <div class="mySlides fade">
  <img src="${path}" style="width:100%">
  <div class="text">Mapas</div>
</div>
`;
});





var modalBack = document.querySelector(".modal-back");
var closeModal = document.querySelector(".modal-close");
closeModal.addEventListener("click", function () {
  modalBack.classList.remove("bg-active");
});

document.querySelectorAll(".agentCard").forEach(function (item) {
  item.addEventListener("click", (event) => {
    var functionField = document.getElementById("field-function");
    var descriptionField = document.getElementById("field-description");
    var primaryDmgField = document.getElementById("primary-dmg-field");
    var secondaryDmgField = document.getElementById("secondary-dmg-field");
    var meleeDmgField = document.getElementById("melee-dmg-field");
    var specialDmgField = document.getElementById("special-dmg-field");
    var agentImgElement = document.getElementById("agent-img-element");

    var agent = agents[item.getAttribute("agent")];

    functionField.innerHTML = agent.function;
    descriptionField.innerHTML = agent.description;
    primaryDmgField.innerHTML = agent.skills[0].damage + " Dano";
    secondaryDmgField.innerHTML = agent.skills[1].damage + " Dano";
    meleeDmgField.innerHTML = agent.skills[2].damage + " Dano";
    specialDmgField.innerHTML = agent.skills[3].damage + " Dano";
    agentImgElement.src = agent.image;
    modalBack.classList.add("bg-active");
  });
});



var newAgentCard = document.querySelector(".newAgentCard");
var modalBackNewAgent = document.querySelector(".modal-back-new-agent");
var closeModalNewAgent = document.querySelector(".modal-close-new-agent");
/*newAgentCard.addEventListener("click", function () {
  modalBackNewAgent.classList.add("bg-active");
});*/


// closeModalNewAgent.addEventListener("click", function () {
//   modalBackNewAgent.classList.remove("bg-active");
// });


primaryWeaponImg = document.getElementById("primaryWeaponImgContainer");
secundaryWeaponImg = document.getElementById("secundaryWeaponImg");
stellWeaponImg = document.getElementById("stellWeaponImg");

guns.primaryGun.forEach(function(path, index){
  primaryWeaponImg.innerHTML += `
  <div class="slidesPrimaryGun fade" gunsPrimary= ${index}>
  <img src="${path}">
</div>
`;
});

guns.secondaryGun.forEach(function(path, index){ 
  secundaryWeaponImg.innerHTML += `
  <div class="sliderSecondaryGun fade" gunsSecundary= ${index}>
  <img src="${path}">
  </div>
  `;
});

guns.steel.forEach(function(path, index){
  stellWeaponImg.innerHTML += `
  <div class="sliderSteel fade" gunsSteel= ${index}>
  <img src="${path}"> 
  </div>
`;
});








var supFormModalBg = document.querySelector(".supFormModal-bg");
var supFromModalClose = document.querySelector(".modal-close-form")
var formBtnSend = document.getElementById("formSendBtn");

formBtnSend.addEventListener("click", function(e){
  var formName = document.getElementById("formName").value;
  var formLastName = document.getElementById("formLastName").value;
  var formEmail = document.getElementById("formEmail").value;
  var formNickName = document.getElementById("formNickName").value;
  var formSubject = document.getElementById("formSubjectId").value;
  var formTxt = document.getElementById("formTxtId").value;
  

  if(formName.length <= 0){
    alert("Campo 'Nome' Obrigatorio!");
    return;
  };
  if(formLastName.length <= 0){
    alert("Campo 'Sobrenome' Obrigatorio!");
    return;
  };
  if(formEmail.length <= 0){
    alert("Campo 'E-mail' Obrigatorio!");
    return;
  };
  if(formNickName.length <= 0){
    alert("Campo 'Apelido de jogador' Obrigatorio!");
    return;
  };
  if(formSubject.length <= 0){
    alert("Campo 'Assunto' Obrigatorio!");
    return;
  };
  if(formTxt.length <= 50 || formTxt.length >= 500){
    alert("Por favor digite uma descrição entre 50 a 500 caracteres");
    return;
  };


  
  supFormModalBg.classList.add("bg-active");
  supFromModalClose.addEventListener("click", function(){
  supFormModalBg.classList.remove("bg-active");
  });


  document.querySelector("#formNameModal").innerHTML = `<div>
  <p>${formName + " " + formLastName}</p>
  </div>
  `

  document.querySelector("#formEmailModal").innerHTML = `<div>
  <p>${formEmail}</p>
  </div>
  `

  document.querySelector("#formNickNameModal").innerHTML = `<div>
  <p>${formNickName}</p>
  </div>
  `

  document.querySelector("#formSubjectModal").innerHTML = `<div>
  <p>${formSubject}</p>
  </div>
  `

  document.querySelector("#formTxtModal").innerHTML = `<div>
  <p>${formTxt}</p>
  </div>
  `
});

//SLIDER MAPAS

var slideIndex = 1;
showSlides(slideIndex);

function plusSlides(n) {
  showSlides(slideIndex += n);
}

function currentSlide(n) {
  showSlides(slideIndex = n);
}

function showSlides(n) {
  var i;
  var slides = document.getElementsByClassName("mySlides");
  var dots = document.getElementsByClassName("dot");
  if (n > slides.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";  
  }
  for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
  }
  slides[slideIndex-1].style.display = "block";  
  dots[slideIndex-1].className += " active";
}

//SLIDER ARMAS PRIMARIAS

var slideIndexSecondary = 1;
showSlidesSecondary(slideIndexSecondary);

function plusSlidesSecondary(n) {
  showSlidesSecondary(slideIndexSecondary += n);
}

function currentSlideSecondary(n) {
  showSlidesSecondary(slideIndexSecondary = n);
}

function showSlidesSecondary(n) {
  let i;
  let slidesSecondary = document.getElementsByClassName("sliderSecondaryGun");
  let dotsSecondary = document.getElementsByClassName("dotGunsSecondary");
  if (n > slidesSecondary.length) {slideIndexSecondary = 1}    
  if (n < 1) {slideIndexSecondary = slidesSecondary.length}
  for (i = 0; i < slidesSecondary.length; i++) {
      slidesSecondary[i].style.display = "none";  
  }
  for (i = 0; i < dotsSecondary.length; i++) {
      dotsSecondary[i].className = dotsSecondary[i].className.replace(" active", "");
  }
  slidesSecondary[slideIndexSecondary -1].style.display = "block";  
}

//SLIDER ARMAS SECUNDARIAS



var slideIndexGuns = 1;
showSlidesGuns(slideIndexGuns);

function plusSlidesGuns(n) {
  showSlidesGuns(slideIndexGuns += n);
}

function currentSlideGuns(n) {
  showSlidesGuns(slideIndexGuns = n);
}

function showSlidesGuns(n) {
  let i;
  let slidesGuns = document.getElementsByClassName("slidesPrimaryGun");
  let dotsGuns = document.getElementsByClassName("dotGuns");
  if (n > slidesGuns.length) {slideIndexGuns = 1}    
  if (n < 1) {slideIndexGuns = slidesGuns.length}
  for (i = 0; i < slidesGuns.length; i++) {
      slidesGuns[i].style.display = "none";  
  }
  for (i = 0; i < dotsGuns.length; i++) {
      dotsGuns[i].className = dotsGuns[i].className.replace(" active", "");
  }
  slidesGuns[slideIndexGuns -1].style.display = "block";  
}

//SLIDER ARMAS BRANCAS

var slideIndexSteel = 1;
showSlidesSteel(slideIndexSteel);

function plusSlidesSteel(n) {
  showSlidesSteel(slideIndexSteel += n);
}

function currentSlideSteel(n) {
  showSlidesSteel(slideIndexSteel = n);
}

function showSlidesSteel(n) {
  let i;
  let slidesSteel = document.getElementsByClassName("sliderSteel");
  let dotsSteel = document.getElementsByClassName("dotGunsSteel");
  if (n > slidesSteel.length) {slideIndexSteel = 1}    
  if (n < 1) {slideIndexSteel = slidesSteel.length}
  for (i = 0; i < slidesSteel.length; i++) {
      slidesSteel[i].style.display = "none";  
  }
  for (i = 0; i < dotsSteel.length; i++) {
      dotsSteel[i].className = dotsSteel[i].className.replace(" active", "");
  }
  slidesSteel[slideIndexSteel -1].style.display = "block";  
}
